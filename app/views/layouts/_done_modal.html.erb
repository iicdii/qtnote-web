<% if user_signed_in? %>
<div class="modal fade" id="postModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" style="max-width:768px; padding-top: 5px;" role="document">
    <div class="modal-content">
      <div class="modal-header" style="border-bottom:none;">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body" style="padding-top:0;">
        <div class="checkmark">
          <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
        	 viewBox="0 0 161.2 161.2" enable-background="new 0 0 161.2 161.2" xml:space="preserve">
            <path class="path" fill="none" stroke="#7DB0D5" stroke-miterlimit="10" d="M425.9,52.1L425.9,52.1c-2.2-2.6-6-2.6-8.3-0.1l-42.7,46.2l-14.3-16.4
            	c-2.3-2.7-6.2-2.7-8.6-0.1c-1.9,2.1-2,5.6-0.1,7.7l17.6,20.3c0.2,0.3,0.4,0.6,0.6,0.9c1.8,2,4.4,2.5,6.6,1.4c0.7-0.3,1.4-0.8,2-1.5
            	c0.3-0.3,0.5-0.6,0.7-0.9l46.3-50.1C427.7,57.5,427.7,54.2,425.9,52.1z"/>
            <circle class="path" fill="none" stroke="#7DB0D5" stroke-width="4" stroke-miterlimit="10" cx="80.6" cy="80.6" r="62.1"/>
            <polyline class="path" fill="none" stroke="#7DB0D5" stroke-width="6" stroke-linecap="round" stroke-miterlimit="10" points="113,52.8 
            	74.1,108.4 48.2,86.4 "/>
            <circle class="spin" fill="none" stroke="#7DB0D5" stroke-width="4" stroke-miterlimit="10" stroke-dasharray="12.2175,12.2175" cx="80.6" cy="80.6" r="73.9"/>
          </svg>
        </div>
        <div class="result-info text-center">
          <p class="title"><%=t "text.qt_is_registered" %></p>
          <p class="qt-num" style="font-size:17px; color:#7ac29a; font-weight: bold;">+ <%= @done_data ? @done_data['exp'] : 0 %> XP</p>
          <p class="qt-num" style="font-size:17px; color:#7ac29a; font-weight: bold;">+ <%= @done_data ? @done_data['talent'] : 0 %> TALENT</p>
          <div class="progress" style="margin-top:20px; margin-bottom:10px;">
            <div class="progress-bar progress-bar-warning" id="qt-progressbar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">
              <span class="sr-only"></span>
            </div>
          </div>
          <div style="overflow: auto;">
            <span class="qt-num" id="before_level" style="float: left; width:33.3%; text-align:left; font-size:22px; font-style: italic;"><%= !@leveled_up ? current_user.level : current_user.level-1 %></span>
            <span class="qt-num" id="current_exp" style="float: left; width:33.3%; text-align:center;"><%= !@leveled_up ? current_user.now_exp : @next_exps[current_user.level-2] %>/<%= !@leveled_up ? @next_exps[current_user.level-1] : @next_exps[current_user.level-2] %> XP</span>
            <span class="qt-num" id="next_level" style="float: left; width:33.3%; text-align:right; font-size:22px; font-style: italic;"><%= !@leveled_up ? current_user.level+1 : current_user.level %></span>
          </div>
          <% if @done_data && @done_data['is_public'] %>
          <p class="qt-num" style="font-size:17px; color:#F3BB45; font-weight: bold;">+ 20% BONUS XP</p>
          <% end %>
          <p id="level-up" style="font-size:15px; display:none; font-weight: bold;"><%=t 'text.level_up' %></p>
        </div>
      </div>
      <div class="modal-footer" style="border-top:none;padding:15px;">
        <button type="button" class="btn btn-default" data-dismiss="modal"><%=t "text.close" %></button>
      </div>
    </div>
  </div>
</div>
<% end %>